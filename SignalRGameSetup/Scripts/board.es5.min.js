"use strict";function goToGame(){connection.server.goToGame({gameCode:gameSetup.GameCode,participantId:clientId})}function updateEnterGameButton(){if(isStarter)if(gameSetup.Players.length<minimumPlayers){startGameBtn.disabled=!0;var n=minimumPlayers-gameSetup.Players.length;startGameBtn.innerHTML=n===1?"Only "+n+" player needed to start":"only "+n+" players needed to start"}else startGameBtn.disabled=!1,startGameBtn.innerHTML="Start Game";else startGameBtn.style.display="none"}function newRoom(n){console.log("New room.");clientName=enterName.value;console.log(clientName);isStarter=!0;connection.server.newRoom({name:clientName,allowAudience:n})}function decideHowToEnter(){gameCodeInput.value!=""?checkValidGameCode(gameCodeInput.value):decideHowToEnterProceed()}function decideHowToEnterProceed(){gameCodeInput.value===""?alert("Please enter a room code."):isValidGameCode?(console.log("Entering room."),clientName=enterName.value,console.log(clientName),connection.server.existingRoom({name:clientName,gameCode:gameCodeInput.value})):alert("That code is not valid.")}function joinAsPlayer(){console.log("joining as player");connection.server.joinAsPlayer({name:clientName,setup:gameSetup})}function joinAsWatcher(){console.log("joining as watcher");connection.server.joinAsWatcher({name:clientName,setup:gameSetup})}function askAboutAudience(){enterName.value!=""?(console.log("asking..."),allowAudienceModal.style.display="block"):alert("Please enter a name.")}function askForGameCode(){enterName.value!=""?(console.log("asking for code..."),gameCodeModal.style.display="block",initialGameCodeModalDisplay.style.display="block",joinOptionsDisplay.style.display="none"):alert("Please enter a name.")}function getJoinRoomOptions(){console.log("getting join options...");initialGameCodeModalDisplay.style.display="none";joinOptionsDisplay.style.display="block";noSpaceAvailable.style.display="block";gameSetup.PlayersAvailableToJoin>0?(noSpaceAvailable.style.display="none",joinAsPlayerBtn.style.display="block"):joinAsPlayerBtn.style.display="none";gameSetup.WatchersAvailableToJoin>0?(noSpaceAvailable.style.display="none",joinAsWatcherBtn.style.display="block"):joinAsWatcherBtn.style.display="none"}function checkValidGameCode(n){console.log("checking if game code is valid");connection.server.isValidCode(n)}function enterWaitRoom(){console.log("Entering wait room.");intialOptions.style.display="none";gameCodeModal.style.display="none";waitRoom.style.display="block";document.getElementById("chatArea").style.display="block";roomCodeDisplay.innerHTML=gameSetup.GameCode;updateWaitRoom()}function updateWaitRoom(){updateEnterGameButton();updateWaitRoomPlayers();updateWaitRoomWatchers()}function updateWaitRoomPlayers(){console.log("updating wait room players");playersAvailable.innerHTML=gameSetup.PlayersAvailableToJoin;waitRoomPlayers.innerHTML="";for(var n=0;n<gameSetup.Players.length;n++)waitRoomPlayers.innerHTML+=gameSetup.Players[n].Name+"<\/br>"}function updateWaitRoomWatchers(){console.log("updating wait room watchers");watchersAvailable.innerHTML=gameSetup.WatchersAvailableToJoin;waitRoomWatchers.innerHTML="";for(var n=0;n<gameSetup.Watchers.length;n++)waitRoomWatchers.innerHTML+=gameSetup.Watchers[n].Name+"<\/br>"}var connection,isValidGameCode=!1,intialOptions=document.getElementById("initialOptions"),enterName=document.getElementById("enterName"),newRoomBtn=document.getElementById("createRoomBtn"),joinRoomBtn=document.getElementById("joinRoomBtn"),allowAudienceModal=document.getElementById("allowAudienceModal"),yesAudienceBtn=document.getElementById("yesAudienceBtn"),noAudienceBtn=document.getElementById("noAudienceBtn"),audienceModalClose=document.getElementById("audienceModalClose"),gameCodeModal=document.getElementById("gameCodeModal"),initialGameCodeModalDisplay=document.getElementById("initialGameCodeModalDisplay"),gameCodeInput=document.getElementById("gameCodeInput"),submitGameCodeBtn=document.getElementById("submitGameCodeBtn"),codeModalClose=document.getElementById("codeModalClose"),joinOptionsDisplay=document.getElementById("joinOptionsDisplay"),joinAsPlayerBtn=document.getElementById("joinAsPlayerBtn"),joinAsWatcherBtn=document.getElementById("joinAsWatcherBtn"),noSpaceAvailable=document.getElementById("noSpaceAvailable"),waitRoom=document.getElementById("waitRoom"),roomCodeDisplay=document.getElementById("roomCode"),waitRoomPlayers=document.getElementById("waitRoomPlayers"),waitRoomWatchers=document.getElementById("waitRoomWatchers"),playersAvailable=document.getElementById("playersAvailable"),watchersAvailable=document.getElementById("watchersAvailable"),startGameBtn=document.getElementById("startGameBtn");newRoomBtn.addEventListener("click",askAboutAudience);yesAudienceBtn.addEventListener("click",function(){newRoom(!0)});noAudienceBtn.addEventListener("click",function(){newRoom(!1)});joinRoomBtn.addEventListener("click",askForGameCode);submitGameCodeBtn.addEventListener("click",function(){decideHowToEnter()});joinAsPlayerBtn.addEventListener("click",joinAsPlayer);joinAsWatcherBtn.addEventListener("click",joinAsWatcher);audienceModalClose.addEventListener("click",function(){allowAudienceModal.style.display="none"});codeModalClose.addEventListener("click",function(){gameCodeModal.style.display="none"});startGameBtn.addEventListener("click",goToGame);